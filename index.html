<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pogoda</title>
	<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAA/ffYAPrqNQCpdiEA/vnnAP766gA7LxYA/vzwAPvzqQD36WgANTc3AEU3HAAqJRQA/fbEADg7OgDkxi4A//ZrAC8pFwA8PjoA++gwAPrpMwD999kA0sBtAPrqNgD47psARUI0AAIIBwD58KEA++xFAM2yRAD77UgA//zoAP777gD77ksAOTEdAP788QD872AA1rtEAIR2RwD89bkA/fW5AEE4IAAiJCQAKiUVAPfrgQD45C4A+eQuAP330QAXFg0A/PGBAPrqNwD76jcA/fjdAP354AD++eAANC4eAJBjIQD+7joALjAtABwcFgD++uwA4s9TAB0eHAD//PIAIB8WAMabLgD//vgA0blRAP/3wAD99s8A//ZtAPrqOAD76jgAGhkOAP343gDRrDQAHRwOAPvuTQD58a8AsnshAP/99gD68rIA//75AN+7KwDPuVsA/fW7AP/1awD55zAA+ugzAIdeJgD66TYA8+NRAPrqOQAZGQ8A++o5AP343wD66zwA+e+hAPjqSwDu1C4A/POkAP/89AD99KcA+OtgADY0KQD77mAAyJ4wAPz0uQAhIyQAKCQVANKhJwD57nsAvociAPrvfgD66DQAAAICAOjKLAD66TcA/OoxAPzrNAA/QT4A/fjgAPrrPQD++OAA6tEvAP3zkwBgV0AA5M1HAPruTwDx1iwAKCQWAOTCJwD34C8A+/BwAPv1zwD98XMA6+KyAPrnMgAABAAA//nSAPvrNQD86zUAGRkRAOvPKgAEBwAAvpMsADEuIgAcGw4AQUQ/AP755AD++ucA+utHAN7MVwDUyHgA4s1RALJ+JADq1UUA/POvAD00IgD99q8A2L5AAN3ReAD99b4AEhMJAP/zaABVUz8A+eczAP331gD265gAKCssALuTLQD9+eUA69ExAP766AD251cA//zlAPzzngD78qQA++5RAG1gOQCvhC4A/fbCAMKkRQD55S4A+OQ0APrvigD66jQAkHtKABUXFgAABAIA/PGHAPvxkAD88ZAA+/KTABoaFgD785YAGxwcAO/VLABANR4A/fW3AD05KgAkJSUA5MIqAPz2zAD99swAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFxSAwy9QDcceF1wCMkheRwIchbCWNnpgsk0yMxcXMkd1plpXl8GfIbp3unIXjI0XLrdYdF07KabKxsWJOZEifGJRCI8RKwALcACDdm4ABhNOhmljrLgMk08AOFOjbVeEZ5yCGnOOSUwDvYpzkDCbLYFAwlmqnj6SS8S0akE3vA8lbH9GpCRoyKAqW1YQrskdtjoJMb6HsxmaqZhxb0OpPVQSLMC/fbuluX4OlHgKJn1hqLFkZGQYqGYboRaZiJ1ma1VraycoVVUoVUSLrx+1osvLy8vLzMzMzMxFrSMgNAEBFacVp6cBp6cBSl8HP1BQIDyrBXtfBARKeZU1PEJSZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=" />
<style>

body {}
table, td {border:1px solid #ddd; padding:2px;}
th {background:#444; color:white;}
tr:nth-child(2n+1) {background-color: #f0f0f0;}
tr:nth-child(5n) {background-color: #ffe0a0;}

#menu {margin-bottom:1em;}

.btn{margin:3px; display:inline-block;*display:inline;*zoom:1;padding:4px 12px;margin-bottom:0;text-align:center;vertical-align:middle;cursor:pointer;color:#333333;text-shadow:0 1px 1px rgba(255, 255, 255, 0.75);background-color:#f5f5f5;background-image:-moz-linear-gradient(top, #ffffff, #e6e6e6);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#ffffff), to(#e6e6e6));background-image:-webkit-linear-gradient(top, #ffffff, #e6e6e6);background-image:-o-linear-gradient(top, #ffffff, #e6e6e6);background-image:linear-gradient(to bottom, #ffffff, #e6e6e6);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffe6e6e6', GradientType=0);border-color:#e6e6e6 #e6e6e6 #bfbfbf;border-color:rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);*background-color:#e6e6e6;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);border:1px solid #bbbbbb;*border:0;border-bottom-color:#a2a2a2;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;*margin-left:.3em;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);}
.btn:hover,.btn:active,.btn.active,.btn.disabled,.btn[disabled]{color:#ffaa44;background-color:#e6e6e6;*background-color:#d9d9d9;}

.btn-gray {
  background-color: hsl(0, 0%, 16%) !important;
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#5b5b5b", endColorstr="#282828");
  background-image: -khtml-gradient(linear, left top, left bottom, from(#5b5b5b), to(#282828));
  background-image: -moz-linear-gradient(top, #5b5b5b, #282828);
  background-image: -ms-linear-gradient(top, #5b5b5b, #282828);
  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #5b5b5b), color-stop(100%, #282828));
  background-image: -webkit-linear-gradient(top, #5b5b5b, #282828);
  background-image: -o-linear-gradient(top, #5b5b5b, #282828);
  background-image: linear-gradient(#5b5b5b, #282828);
  border-color: #282828 #282828 hsl(0, 0%, 11%);
  color: #fff !important;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.33);
  -webkit-font-smoothing: antialiased;
}

.btn-silver {
  background-color: hsl(0, 0%, 16%) !important;
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#8a8a8a", endColorstr="#686868");
  background-image: -khtml-gradient(linear, left top, left bottom, from(#8a8a8a), to(#686868));
  background-image: -moz-linear-gradient(top, #8a8a8a, #686868);
  background-image: -ms-linear-gradient(top, #8a8a8a, #686868);
  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #8a8a8a), color-stop(100%, #686868));
  background-image: -webkit-linear-gradient(top, #8a8a8a, #686868);
  background-image: -o-linear-gradient(top, #8a8a8a, #686868);
  background-image: linear-gradient(#8a8a8a, #686868);
  border-color: #686868 #686868 hsl(0, 0%, 11%);
  color: #fff;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.33);
  -webkit-font-smoothing: antialiased;
}

.btn-red {
  background-color: hsl(0, 0%, 16%) !important;
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#aa4400", endColorstr="#884422");
  background-image: -khtml-gradient(linear, left top, left bottom, from(#aa4400), to(#884422));
  background-image: -moz-linear-gradient(top, #aa4400, #884422);
  background-image: -ms-linear-gradient(top, #aa4400, #884422);
  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #aa4400), color-stop(100%, #884422));
  background-image: -webkit-linear-gradient(top, #aa4400, #884422);
  background-image: -o-linear-gradient(top, #aa4400, #884422);
  background-image: linear-gradient(#aa4400, #884422);
  border-color: #884422 #884422 hsl(0, 0%, 11%);
  color: #fff !important;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.33);
  -webkit-font-smoothing: antialiased;
}

.btn-large {font-size:1.2em; padding:4px 8px;}

.btn:active,.btn.active{background-color:#aaaa88; color:#ffeeaa; font-weight:bold;}

</style>	
 
<script type="text/javascript" charset="utf-8" src="cordova-2.2.0.js"></script>	

<script>


   function onLoad() {
        document.addEventListener("deviceready", onDeviceReady, false);
		try {if (device.uuid) {}	}
		catch(err) {onDeviceReady();}
    }


    function onDeviceReady() {
		document.addEventListener("offline", onOffline, false);
		document.addEventListener("online", onOnline, false);
		document.addEventListener("backbutton", onBackKeyDown, false);
		document.addEventListener("menubutton", onMenuKeyDown, false);	
		
		var id=window.localStorage.getItem('__padoga__') || 'Szczecin';
		menu(id);
		pokaz(id);
		if (id=='Szczecin'){
			var t=window.setTimeout(function(){temperatura();},3000);
			var k=window.setTimeout(function(){korki();},4000);
		}
    }
	function onOffline() {
		var o=window.setTimeout(function(){alert('brak sieci');},1000);
	}
	
    function onOnline() {
		var o=window.setTimeout(function(){onDeviceReady();},1000);
		//document.getElementById('test').innerHTML='onOnline<br />';
    }	
	
	function onBackKeyDown() {
		koniec();
		//navigator.app.backHistory();	
	}
	
	function onMenuKeyDown() {
		document.getElementById("menu").style.display="block";
    }	
	
	
	function pokaz(id){
		document.getElementById('img').src=miasta[id];
		window.localStorage.setItem('__padoga__',id);
	}
	
	function menu(id){
		var id=window.localStorage.getItem('__padoga__') || 'Szczecin';
		var html='';
		var klasa='';
		for (var i in miasta) {
			//console.log(i+' = '+miasta[i]);
			//html+='<button class="btn" onClick="javascript:document.getElementById(\'img\').src=\''+miasta[i]+'\';">'+i+'</button>';
			if (i===id) klasa=' active'; else klasa='';
			html+='<button class="btn btn-silver'+klasa+'" onClick="javascript:pokaz(\''+i+'\');">'+i+'</button>';
		}
		if (id=='Szczecin'){
			html+='<br />';
			html+='<button href="javascript:void()"; class="btn" onClick="loadURL(\'http://www.yr.no/place/Poland/West_Pomerania/Szczecin~3083829/long.html\');">Szczecin longTerm</button>';
			html+='<button href="javascript:void()"; class="btn" onClick="loadURL(\'http://www.yr.no/place/Poland/West_Pomerania/Szczecin~3083829/hour_by_hour_detailed.html\');">Szczecin yr.no</button>';
		} else {
			document.getElementById('btn_korki').style.display='none';
			document.getElementById('btn_temperatura').style.display='none';
		}
		document.getElementById('menu').innerHTML=html;
	}
	
	

var miasta=[];
miasta['Szczecin']='http://www.yr.no/place/Poland/West_Pomerania/Szczecin~7530840/avansert_meteogram.png';
miasta['Dąbie']='http://www.yr.no/place/Poland/West_Pomerania/Szczecin_D%C4%85bie/avansert_meteogram.png';



miasta['Koszalin']='http://www.yr.no/place/Poland/West_Pomerania/Koszalin/avansert_meteogram.png';
miasta['Gdańsk']='http://www.yr.no/place/Poland/Pomerania/Gda%C5%84sk~7531002/avansert_meteogram.png';
miasta['Olsztyn']='http://www.yr.no/place/Poland/Warmia-Masuria/Olsztyn/avansert_meteogram.png';

miasta['Berlin']='http://www.yr.no/place/Germany/Berlin/Berlin~2950159/avansert_meteogram.png';
miasta['Poznań']='http://www.yr.no/place/Poland/Greater_Poland/Pozna%c5%84/avansert_meteogram.png';
miasta['Bydgoszcz']='http://www.yr.no/place/Poland/Kuyavian-Pomerania/Bydgoszcz~3102014/avansert_meteogram.png';
miasta['Warszawa']='http://www.yr.no/place/Poland/Masovia/Warszawa~6695624/avansert_meteogram.png';
miasta['Białystok']='http://www.yr.no/place/Poland/Podlachia/Bia%C5%82ystok/avansert_meteogram.png';

//console.log(miasta);
miasta['Gorzów']='http://www.yr.no/place/Poland/Lubusz/Gorz%C3%B3w_Wielkopolski/avansert_meteogram.png';
miasta['Wrocław']='http://www.yr.no/place/Poland/Lower_Silesia/Wroc%C5%82aw/avansert_meteogram.png';
miasta['Kraków']='http://www.yr.no/place/Poland/Lesser_Poland/Krak%C3%B3w/avansert_meteogram.png';
miasta['Rzeszów']='http://www.yr.no/place/Poland/Subcarpathia/Rzesz%C3%B3w/avansert_meteogram.png';
//
//
//miasta['']='';
//miasta['']='';

	function viewInfoKorki(raw){
		$('#korki').innerHTML=raw;
	}
    
    
 function korki(){
	$('#korki').style.display="block";
	$('#korki').innerHTML="Czekamy na Korki";
var script=document.createElement('SCRIPT');
script.type='text/javascript';
script.src='http://www.wi.zut.edu.pl/cdn/json/korki.json.php?callback=viewInfoKorki&co=czas&jak=tabela&format=joomla';
document.getElementsByTagName('head')[0].appendChild(script);
}

function temperatura(){
	$('#temperatura').style.display="block";
	$('#temperatura').innerHTML="czekamy na Temperatura";
	
	$('#iftemperatura').style.display="block";
	$('#iftemperatura').style.width="100%";
	$('#iftemperatura').style.height="12em";
	$('#iftemperatura').style.border="none";

	var pogoda='http://zszczech.zut.edu.pl/ccllaass/Pogoda/majowe.php';
	//$('#iftemperatura').src=pogoda;
	window.open(pogoda,'iftemperatura');
	$('#temperatura').style.display="none";
}




var $=function (id) {
	var prefix=id[0];
	var iid=id.slice(1,id.length);
	switch (prefix){
		case '#':	return document.getElementById(iid);   			break;
		case '.':	return document.getElementsByClassName(iid);  	break;
		default:	return document.getElementsByTagName(id); 
		}	
	}
	
function koniec(){
	try  {
		navigator.app.exitApp();
		}
	catch(err) {
		window.location.reload();
	  }
}
	
function loadURL(url){
	try  { navigator.app.loadUrl(url, { openExternal:true } );  }
	catch(err) {
	  window.location.href=url;
	  }
}





</script>


</head>

<body onload="onLoad()">

<img id="img" src="http://www.yr.no/place/Poland/West_Pomerania/Szczecin~7530840/avansert_meteogram.png" /><br>

<div>
	<button id="btn_temperatura" class="btn btn-gray" onClick="temperatura()">Temperatura</button> 
	<button id="btn_korki" class="btn btn-gray" onClick="korki()" style="float:left;">Korki</button> 
	<button class="btn btn-red" onClick="koniec()">Koniec</button> 
	
	<div id="temperatura" style="display:none"></div>
	<iframe id="iftemperatura" name="iftemperatura" style="display:none"></iframe>

	<div id="korki" style="display:none;"></div>
<div>


<div id="menu"></div>




<a href="javascript:void()"; onClick="loadURL('http://www.yr.no/');"><img src="yr-logo.png" /></a>
<br />


</body>
</html>
